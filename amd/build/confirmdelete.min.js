/**
 * Confirm modal before delete.
 *
 * @module     local_cms/confirmdelete
 * @copyright  2021 Shadman Ahmed
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_cms/confirmdelete",["jquery","core/ajax","core/str","core/modal_factory","core/modal_events","core/notification"],(function($,Ajax,str,ModalFactory,ModalEvents,Notification){$(".delete-btn").on("click",(function(){let arr=$(this).attr("id").split("-"),scoreId=arr[arr.length-1];ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:str.get_string("deletetitle","local_cms","",""),body:str.get_string("modalmessage","local_cms","","")}).then((function(modal){modal.setSaveButtonText(str.get_string("delete","local_cms","","")),modal.getRoot().on(ModalEvents.save,(function(){let request={methodname:"local_cms_delete_score_by_id",args:{scoreid:scoreId}};Ajax.call([request])[0].done((function(){window.location.href=$(location).attr("href")})).fail(Notification.exception)})),modal.show()}))}))}));

//# sourceMappingURL=confirmdelete.min.js.map